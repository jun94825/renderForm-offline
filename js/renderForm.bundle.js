!function(n){var e={};function t(i){if(e[i])return e[i].exports;var d=e[i]={i:i,l:!1,exports:{}};return n[i].call(d.exports,d,d.exports,t),d.l=!0,d.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var d in n)t.d(i,d,function(e){return n[e]}.bind(null,d));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";t.r(e);var i=Vue.extend({props:["data","index"],template:'\n    <div class="question" v-if="display">\n      <div class="d-flex">\n        <p class="required" v-if="data.Required">*</p>\n        <h5 style="margin-bottom: 0;">{{ index + 1 }}. {{ data.Title }} : </h5>\n      </div>\n      <div class="d-flex align-items-center flex-wrap">\n        <div\n          class="d-flex align-items-center mt-3"\n          v-for="(item, index) in data.Options"\n          :key="index"\n        >\n          <input\n            :type="data.Type"\n            :id="item.Guid"\n            :value="item.Guid"\n            v-model="data.Answer"\n            @change="checkBinding(data, item)"\n          />\n          <label :for="item.Guid">{{ item.Value }}</label>\n        </div>\n      </div>\n    </div>\n  ',data:function(){return{display:!0}},mounted:function(){var n=this;eventBus.$on("connect",(function(e){e.Guid===n.data.Guid&&(n.display=e.status)}))}}),d=(Vue.component("radio",{watch:{display:function(){this.display||(this.data.Answer="",this.data.Options.forEach((function(n){n.Binding.length>0&&n.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!1})}))})))}},methods:{checkBinding:function(n,e){if(e.Binding.length>0)return e.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!0})})),!1;n.Options.forEach((function(n){n.Binding.length>0&&n.Guid!==e.Guid&&(console.log("False"),n.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!1})})))}))}},extends:i}),Vue.component("checkbox",{watch:{display:function(){this.display||(this.data.Answer=[],this.data.Options.forEach((function(n){n.Binding.length>0&&n.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!1})}))})))}},methods:{checkBinding:function(n,e){e.Binding.length>0&&e.Binding.forEach((function(t){0===n.Answer.length?eventBus.$emit("connect",{Guid:t,status:!1}):n.Answer.forEach((function(n){n===e.Guid?eventBus.$emit("connect",{Guid:t,status:!0}):eventBus.$emit("connect",{Guid:t,status:!1})}))}))}},extends:i}),Vue.extend({props:["data","index"],data:function(){return{display:!0}},watch:{display:function(){this.display||(this.data.Answer="")}},mounted:function(){var n=this;eventBus.$on("connect",(function(e){e.Guid===n.data.Guid&&(n.display=e.status)}))}}));Vue.component("dropdown",{template:'\n    <div class="question" v-if="display">\n      <div class="d-flex align-items-center flex-wrap">\n        <div class="d-flex">\n          <p class="required" v-if="data.Required">*</p>\n          <h5 style="margin-bottom: 0;">{{ index + 1 }}. {{ data.Title }} : </h5>\n        </div>\n        <select class="dropdown" v-model="data.Answer">\n          <option value="">請選擇</option>\n          <option\n            v-for="(item, index) in data.Options"\n            :key="index"\n            :value="item.Guid"\n            >{{ item.Value }}</option\n          >\n        </select>\n      </div>\n    </div>\n  ',extends:d}),Vue.component("literal",{template:'\n    <div class="question" v-if="display">\n      <div class="d-flex align-items-center flex-wrap">\n        <div class="d-flex">\n          <p class="required" v-if="data.Required">*</p>\n          <h5 style="margin-bottom: 0;">{{ index + 1 }}. {{ data.Title }} : </h5>\n        </div>\n        <div class="input literal mt-2 mt-md-0 ml-3 ml-md-2">\n          <input type="text" v-model="data.Answer" placeholder="您的回答" />\n          <div class="line"></div>\n        </div>\n      </div>\n    </div>\n  ',extends:d}),Vue.component("date",{template:'\n    <div class="question" v-if="display">\n      <div class="d-flex align-items-center flex-wrap">\n        <div class="d-flex">\n          <p class="required" v-if="data.Required">*</p>\n          <h5 style="margin-bottom: 0;">{{ index + 1 }}. {{ data.Title }} : </h5>\n        </div>\n        <div class="mt-2 mt-md-0 ml-3 ml-md-2">\n          <input type="date" class="date form-control" v-model="data.Answer" />\n        </div>\n      </div>\n    </div>\n  ',extends:d}),Vue.component("number",{template:'\n    <div class="question" v-if="display">\n      <div class="d-flex align-items-center flex-wrap">\n        <div class="d-flex">\n          <p class="required" v-if="data.Required">*</p>\n          <h5 style="margin-bottom: 0;">{{ index + 1 }}. {{ data.Title }} : </h5>\n        </div>\n        <div class="input literal mt-2 mt-md-0 ml-3 ml-md-2">\n          <input type="number" class="form-control" v-model="data.Answer" />\n          <div class="line"></div>\n        </div>\n      </div>\n    </div>\n  ',extends:d}),Vue.component("email",{template:'\n    <div class="question" v-if="display">\n      <div class="d-flex align-items-center flex-wrap">\n        <div class="d-flex">\n          <p class="required" v-if="data.Required">*</p>\n          <h5 style="margin-bottom: 0;">{{ index + 1 }}. {{ data.Title }} : </h5>\n        </div>\n        <div class="input literal mt-2 mt-md-0 ml-3 ml-md-2">\n          <input type="email" class="mt-1" v-model="data.Answer" placeholder="請輸入您的 E-mail" />\n          <div class="line"></div>\n        </div>\n      </div>\n    </div>\n  ',extends:d}),Vue.component("english",{template:'\n    <div class="question" v-if="display">\n      <div class="d-flex align-items-center flex-wrap">\n        <div class="d-flex">\n          <p class="required" v-if="data.Required">*</p>\n          <h5 style="margin-bottom: 0;">{{ index + 1 }}. {{ data.Title }} : </h5>\n        </div>\n        <div class="input literal mt-2 mt-md-0 ml-3 ml-md-2">\n          <input type="english" class="mt-1" v-model="data.Answer" placeholder="請輸入英文字母" @change="checkNum" />\n          <div class="line"></div>\n        </div>\n      </div>\n    </div>\n  ',methods:{checkNum:function(){this.data.Answer=this.data.Answer.replace(/[^\a-\z\A-\Z]/g,"")}},extends:d});Vue.component("render-form",{data:function(){return{form:{}}},template:'\n    <div>\n      <div class="container">\n        <div class="row no-gutters">\n          <div class="col">\n            <div class="title">\n              <p>{{ form.Title }}</p>\n            </div>\n            <div class="description">\n              <p>{{ form.Description }}</p>\n            </div>\n            <component\n              v-for="(item, index) in form.Questions"\n              :key="index"\n              :data="item"\n              :index="index"\n              :is="item.Type"\n              :id="item.Guid"\n            ></component>\n          </div>\n        </div>\n      </div>\n    </div>\n  ',watch:{form:function(){var n=this;this.$nextTick((function(){n.form.Questions.forEach((function(n){"checkbox"!==n.Type?n.Options.forEach((function(e){n.Answer===e.Guid?e.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!0})})):e.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!1})}))})):0===n.Answer.length?n.Options.forEach((function(n){n.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!1})}))})):n.Answer.forEach((function(e){n.Options.forEach((function(n){e!==n.Guid&&n.Binding.forEach((function(n){eventBus.$emit("connect",{Guid:n,status:!1})}))}))}))}))}))}},methods:{getFormJSON:function(){var n=JSON.parse(JSON.stringify(this.form));this.form.Questions.forEach((function(n){if("checkbox"!==n.Type)if(n.Answer.length>0){var e=[];e.push(n.Answer),n.Answer=e}else n.Answer=[]}));var e=JSON.stringify(this.form);return this.form=n,e},renderForm:function(n){n.Questions.forEach((function(n){"checkbox"!==n.Type&&(1===n.Answer.length?n.Answer=n.Answer[0]:n.Answer="")})),this.form=n},checkRequired:function(){return!this.form.Questions.filter((function(n){return document.getElementById(n.Guid)})).some((function(n){return n.Required&&0===n.Answer.length}))},checkEmail:function(){var n=this,e=this.form.Questions.filter((function(n){return"email"===n.Type})),t=!0;return e.forEach((function(e){n.validateEmail(e.Answer)||(t=!1)})),t},validateEmail:function(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())}}});var s=new Vue({el:"#app"});window.jun={getRenderFormJS:s.$refs.apple.getFormJSON,renderForm:s.$refs.apple.renderForm,checkRequired:s.$refs.apple.checkRequired,checkEmail:s.$refs.apple.checkEmail}}]);